<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="attendanceMapper">

	<resultMap type="attendance" id="attendance_rm">
		<id property="attnNo" column="ATTN_NO" />
		<result property="memNo" column="MEM_NO" />
		<result property="attdTypeNo" column="ATTD_TYPE_NO" />
		<result property="today" column="TODAY" />
		<result property="attnStart" column="ATTN_START" />
		<result property="attnEnd" column="ATTN_END" />
		<result property="workingHours" column="WORKING_HOURS" />
		<result property="extendedWorkingHours" column="EXTENDED_WORKING_HOURS" />
		<result property="attdTypeName" column="ATTD_TYPE_NAME" />
		
	</resultMap>
	
	<select id="selectAttendanceList" parameterType="_int" resultMap="attendance_rm">
		SELECT ATTD_TYPE_NAME , TO_CHAR(TODAY, 'YYYY-MM-DD') AS TODAY, ATTN_START, ATTN_END, WORKING_HOURS, EXTENDED_WORKING_HOURS  
		FROM ATTENDANCE 
		JOIN ATTD_TYPE USING(ATTD_TYPE_NO)
		WHERE MEM_NO = ${memNo}
		AND TODAY &lt;= SYSDATE
	</select>
	
	
	
</mapper>
