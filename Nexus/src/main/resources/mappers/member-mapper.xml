<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">
	
	<resultMap type="member" id="member_rm">
		<id 	property="memNo" 	    column="MEM_NO" />
		<result property="jobNo"  		column="JOB_NO"/>
		<result property="jobName" 		column="JOB_NAME"/>
		<result property="teamNo" 		column="TEAM_NO"/>
		<result property="teamName" 	column="TEAM_NAME"/>
		<result property="deptNo" 		column="DEPT_NO"/>
		<result property="deptName" 	column="DEPT_NAME"/>
		<result property="memId" 		column="MEM_ID"/>
		<result property="memPw" 		column="MEM_PW"/>
		<result property="memName"  	column="MEM_NAME"/>
		<result property="memRNo" 		column="MEM_RNO"/>
		<result property="memTel" 		column="TEL"/>
		<result property="memAddress" 	column="ADDRESS"/>
		<result property="memEmail"		column="EMAIL"/>
		<result property="enrollDate" 	column="ENROLL_DATE"/>
		<result property="departureDate" column="DEPARTURE_DATE"/>
		<result property="secession" 	column="SECESSION"/>
	</resultMap>
	
	<!-- 로그인 -->
	<select id="login" parameterType="member" resultMap="member_rm">
		SELECT MEM_NO, JOB_NO, TEAM_NO, DEPT_NO, MEM_ID,
				MEM_PW, MEM_NAME, MEM_RNO, ADDRESS, EMAIL,
				TO_CHAR( ENROLL_DATE, 'YYYY-MM-DD HH24:MI:SS') AS ENROLL_DATE,
				TO_CHAR( DEPARTURE_DATE, 'YYYY-MM-DD HH24:MI:SS') AS DEPARTURE_DATE,
				SECESSION 
		FROM MEMBER
		WHERE MEM_ID = #{memId}
		AND SECESSION = 'N'
	</select>
	
	
</mapper>
